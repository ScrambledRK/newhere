<form name="ngoForm" ng-submit="vm.register()">
    <image-uploader ng-model="vm.ngo"></image-uploader>
    <div layout-gt-xs="row">
        <md-input-container class="md-block bigger"  flex-gt-xs>
            <label>NGO Name</label>
            <input ng-model="vm.ngo.organisation" required>
        </md-input-container>
    </div>
    <div ng-if="!vm.ngo.editMode">
        <md-checkbox ng-if="vm.cms" ng-model="vm.ngo.useCmsAccount" aria-label="Use current account" ng-false-value="''">
            Use current account
        </md-checkbox>
        <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Email</label>
                <input ng-model="vm.ngo.email" type="email" ng-required="!(vm.cms && vm.ngo.useCmsAccount)" ng-disabled="vm.cms && vm.ngo.useCmsAccount">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>Passwort</label>
                <input name="password" ng-model="vm.ngo.password" type="password" minlength="5" ng-required="!(vm.cms && vm.ngo.useCmsAccount)" ng-disabled="vm.cms && vm.ngo.useCmsAccount">
                <div ng-messages="ngoForm.password.$error" ng-show="ngoForm.password.$dirty">
                    <div ng-message="minlength">Mindestens 5 Zeichen</div>
                </div>
            </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
            <label>Passwort wiederholen</label>
            <input name="re_password" ng-model="vm.ngo.re_password" compare-to="vm.ngo.password" type="password" ng-required="!(vm.cms && vm.ngo.useCmsAccount)" ng-disabled="vm.cms && vm.ngo.useCmsAccount">
            <div ng-messages="ngoForm.re_password.$error" ng-show="ngoForm.re_password.$dirty">
                <div ng-message="compareTo">Unterschiedliche Passwörter</div>
            </div>
        </md-input-container>
        </div>
    </div>
    <md-input-container class="md-block">
        <label>Website</label>
        <input ng-model="vm.ngo.website" type="url" placeholder="http://www.your-ngo.com">
    </md-input-container>

    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
            <label>Kontakt</label>
            <input ng-model="vm.ngo.contact" placeholder="Max Mustermann">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
            <label>Kontakt Email</label>
            <input ng-model="vm.ngo.contact_email" type="email" placeholder="email@ngo.com">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
            <label>Kontakt Telefon</label>
            <input ng-model="vm.ngo.contact_phone" ng-pattern="/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/" placeholder="+43 660 12345678">
        </md-input-container>
    </div>
    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
            <label>Straße</label>
            <input ng-model="vm.ngo.street" placeholder="Stephansplatz">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
            <label>Hausnummer</label>
            <input ng-model="vm.ngo.street_number" type="text" placeholder="1">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
            <label>Ort</label>
            <input ng-model="vm.ngo.city" placeholder="Vienna">
        </md-input-container>
        <md-input-container class="md-block" flex-gt-sm>
            <label>Plz</label>
            <input ng-model="vm.ngo.zip" md-minlength="4" md-maxlength="4" placeholder="1010">
        </md-input-container>
    </div>
    <md-input-container class="md-block">
        <label>Beschreibung</label>
        <textarea ng-model="vm.ngo.description" md-maxlength="200" rows="3"></textarea>
    </md-input-container>

    <md-button type="submit" class="md-primary md-raised" ng-disabled="ngoForm.$invalid">Speichern</md-button>
    <md-button class="md-primary" ng-click="vm.cancel()">Abbrechen</md-button>
</form>
