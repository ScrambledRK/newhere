<form
	ng-submit="vm.save()"
	name="registerForm"
	flex
>
	<div
		flex
		layout-padding
	>
		<!-- name/email -->
		<div layout-gt-sm="row">

			<!-- -->
			<md-input-container
				class="md-block"
				flex-gt-sm
			>
				<label>{{ 'Name' | translate }}</label>
				<input
					type="text"
					ng-model="vm.user.name"
					required
				>
			</md-input-container>

			<!-- -->
			<md-input-container
				class="md-block"
				flex-gt-sm
			>
				<label>{{ 'Email' | translate }}</label>
				<input
					type="email"
					ng-model="vm.user.email"
					required
				>
			</md-input-container>
		</div>

		<!-- password -->
		<div layout-gt-sm="row">

			<!-- -->
			<md-input-container
				class="md-block"
				flex-gt-sm
			>
				<label>{{ 'Passwort' | translate }}</label>
				<input
					name="password"
					type="password"
					ng-model="vm.user.password"
					minlength="5"
				>
				<div
					ng-messages="registerForm.password.$error"
					ng-show="registerForm.password.$dirty"
				>
					<div ng-message="minlength">{{ 'Mindestens %d Zeichen' | translate |
					                            sprintf: 5 }}
					</div>
				</div>
			</md-input-container>

			<!-- -->
			<md-input-container
				class="md-block"
				flex-gt-sm
			>
				<label>{{ 'Passwort wiederholen' | translate }}</label>
				<input
					name="re_password"
					type="password"
					ng-model="vm.user.re_password"
					compare-to="vm.user.password"
				>
				<div
					ng-messages="registerForm.re_password.$error"
					ng-show="registerForm.re_password.$dirty"
				>
					<div ng-message="compareTo">{{ 'Unterschiedliche Passwörter' | translate
					                            }}
					</div>
				</div>
			</md-input-container>

		</div>

		<!---->
		<md-input-container class="md-block">
			<div layout="row">
				<md-checkbox
					ng-model="vm.accept"
					required
					aria-label="Nutzungsbedingungen akzeptieren"
				></md-checkbox>
				<span style="margin-left:10px">
						Hiermit bestätige ich, die <a ui-sref="main.impressum">AGBs bzw. Nutzungsbestimmungen</a> zu akzeptierten.
					</span>
			</div>
		</md-input-container>
	</div>

	<div
		flex
		layout="row"
		layout-align="end center"
	>
		<save
			is-disabled="registerForm.$invalid || registerForm.$pristine || vm.sending || !vm.accept"
		></save>

		<cancel></cancel>
	</div>

</form>